(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports={ActiveQuiz:"ActiveQuiz_ActiveQuiz__1rIG8",Question:"ActiveQuiz_Question__1cxAb",image_wrapper:"ActiveQuiz_image_wrapper__3dCX4",question_text:"ActiveQuiz_question_text__1bXMP"}},24:function(e,t,n){e.exports={dots_container:"ProgressBar_dots_container__3OgMt",dot:"ProgressBar_dot__308mp",current:"ProgressBar_current__2p6cz",past:"ProgressBar_past__2sCF5"}},28:function(e,t,n){e.exports={Drawer:"Drawer_Drawer__1MU8m",close:"Drawer_close__14U0j",active:"Drawer_active__wNVYB"}},29:function(e,t,n){e.exports={FinishedQuiz:"FinishedQuiz_FinishedQuiz__iRaez",success:"FinishedQuiz_success__4qU9j",error:"FinishedQuiz_error__1Netx",image_wrapper:"FinishedQuiz_image_wrapper__39clH"}},30:function(e,t,n){e.exports={QuizList:"QuizList_QuizList__3686j",wrapper:"QuizList_wrapper__w1cIl",card:"QuizList_card__13SiN",container:"QuizList_container__2B93U"}},33:function(e,t,n){e.exports={MenuToggle:"MenuToggle_MenuToggle__2bFK7",open:"MenuToggle_open__2VoRG"}},37:function(e,t,n){e.exports={Quiz:"Quiz_Quiz__8or0w",quizWrapper:"Quiz_quizWrapper__399pM"}},38:function(e,t,n){e.exports={AnswerItem:"AnswerItem_AnswerItem__1XScQ",success:"AnswerItem_success__ooi7-",error:"AnswerItem_error__1hvkG"}},39:function(e,t,n){e.exports={Button:"Button_Button__3OvV0",error:"Button_error__aQDYZ",success:"Button_success__1c7Wq",primary:"Button_primary__2wUBB"}},40:function(e,t,n){e.exports={Loader:"Loader_Loader__3bTwl","lds-ripple":"Loader_lds-ripple__15d5N",center:"Loader_center__2ivmU"}},41:function(e,t,n){e.exports={Auth:"Auth_Auth__3IreN",AuthForm:"Auth_AuthForm__3aJSd"}},51:function(e,t,n){e.exports={Layout:"Layout_Layout__NeQJE"}},52:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__FaIJz"}},55:function(e,t,n){e.exports={AnswersList:"AnswersList_AnswersList__ki2HB"}},56:function(e,t,n){e.exports={Input:"Input_Input__n7nzs",invalid:"Input_invalid__1dfUm"}},57:function(e,t,n){e.exports={QuizCreator:"QuizCreator_QuizCreator__2X8G2"}},58:function(e,t,n){e.exports={Select:"Select_Select__146y-"}},62:function(e,t,n){e.exports=n(92)},67:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(25),o=n.n(i),c=(n(67),n(3)),u=n(4),s=n(7),l=n(5),p=n(8),d=n(51),m=n.n(d),h=n(33),f=n.n(h),v=function(e){var t=e.isOpen,n=e.onToggle,a=[f.a.MenuToggle,"fa"];return t?a.push.apply(a,["fa-times","".concat(f.a.open)]):a.push("fa-bars"),r.a.createElement("i",{className:a.join(" "),onClick:function(){return n()}})},g=n(15),b=n(28),_=n.n(b),w=n(52),z=n.n(w),E=function(e){var t=e.onClick;return r.a.createElement("div",{className:z.a.Backdrop,onClick:function(){return t()}})},y=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).clickHandler=function(){n.props.onClose()},n.renderLinks=function(e){return e.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(g.c,{to:e.to,exact:e.exact,activeClassName:_.a.active,onClick:n.clickHandler},e.label))})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=[_.a.Drawer];this.props.isOpen||e.push(_.a.close);var t=[{to:"/",label:"Quiz List",exact:!0}];return this.props.isAuthenticated?(t.push({to:"/quiz-creator",label:"Quiz Creator",exact:!1}),t.push({to:"/logout",label:"Logout",exact:!1})):t.push({to:"/auth",label:"Auth",exact:!1}),r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:e.join(" ")},r.a.createElement("ul",null,this.renderLinks(t))),this.props.isOpen?r.a.createElement(E,{onClick:this.props.onClose}):null)}}]),t}(a.Component),C=n(6),O=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={menu:!1},n.toggleMenuHandler=function(){n.setState({menu:!n.state.menu})},n.menuCloseHandler=function(){n.setState({menu:!1})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:m.a.Layout},r.a.createElement("header",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("span",null,"Playbazz"))),r.a.createElement(y,{isOpen:this.state.menu,onClose:this.menuCloseHandler,isAuthenticated:this.props.isAuthenticated}),r.a.createElement(v,{onToggle:this.toggleMenuHandler,isOpen:this.state.menu}),r.a.createElement("main",null,this.props.children))}}]),t}(a.Component),j=Object(C.b)(function(e){return{isAuthenticated:!!e.auth.token}})(O),k=n(37),q=n.n(k),Q=n(23),A=n.n(Q),S=n(55),I=n.n(S),x=n(38),N=n.n(x),L=function(e){var t=e.answer,n=e.onAnswerClick,a=e.answerState,i=[N.a.AnswerItem];return a&&i.push(N.a[a]),r.a.createElement("li",{className:i.join(" "),onClick:function(){return n(t.id)}},t.text)},T=function(e){var t=e.answers,n=e.onAnswerClick,a=e.answerState;return r.a.createElement("ul",{className:I.a.AnswersList},t.map(function(e){return r.a.createElement(L,{key:e.id,answer:e,onAnswerClick:function(){return n(e.id)},answerState:a?a[e.id]:null})}))},F=n(24),H=n.n(F),U=function(e){var t=e.quizLength,n=e.answerNumber;return r.a.createElement("div",{className:H.a.dots_container},Array(t).fill(1).map(function(e,t){var a=null;return t+1<n?a="".concat(H.a.past):t+1===n&&(a="".concat(H.a.current)),r.a.createElement("div",{className:"".concat(H.a.dot," ").concat(a),key:t})}))},M=function(e){var t=e.quiz,n=e.quizLength,a=e.onAnswerClick,i=e.answerNumber,o=e.answerState,c=e.quizName;return r.a.createElement("div",{className:A.a.ActiveQuiz},r.a.createElement("h2",null,c),r.a.createElement("div",{className:A.a.Question},r.a.createElement(U,{quizLength:n,answerNumber:i}),r.a.createElement("small",null,i," / ",n)),r.a.createElement("div",{className:A.a.image_wrapper},r.a.createElement("img",{src:"/img/".concat(t.imageSrc),alt:"Avatar"}),r.a.createElement("span",{className:A.a.question_text},t.question)),r.a.createElement(T,{answers:t.answers,onAnswerClick:a,answerState:o}))},B=n(29),D=n.n(B),R=n(39),V=n.n(R),W=function(e){var t=e.children,n=e.onClick,a=e.disabled,i=e.type,o=[V.a.Button,V.a[i]];return r.a.createElement("button",{onClick:n,disabled:a,className:o.join(" ")},t)},Z=function(e){var t=e.results,n=e.quiz,a=e.onRetry,i=Object.keys(t).reduce(function(e,n){return"success"===t[n]&&e++,e},0);return r.a.createElement("div",{className:D.a.FinishedQuiz},r.a.createElement("div",{className:D.a.image_wrapper},r.a.createElement("img",{src:"/img/".concat(n[n.length-1].imgTitle),alt:""})),r.a.createElement("p",null,i," correct answers from ",n.length-1),r.a.createElement("div",null,r.a.createElement(W,{onClick:function(){return a()},disabled:!1,type:"primary"},"retry Again"),r.a.createElement(g.b,{to:"/"},r.a.createElement(W,{onClick:function(){return a()},disabled:!1,type:"primary"},"To list of quizzes"))))},P=n(40),G=n.n(P),J=function(){return r.a.createElement("div",{className:G.a.center},r.a.createElement("div",{className:G.a.Loader},r.a.createElement("div",null),r.a.createElement("div",null)))},X=n(22),K=n(13),Y=n.n(K),$=n(19),ee=n(27),te=n.n(ee),ne=te.a.create({baseURL:"https://playbuzz-f1185.firebaseio.com"}),ae="[quiz] FETCH_QUIZES_START",re="[quiz] FETCH_QUIZES_SUCCESS",ie="[quiz] FETCH_QUIZES_ERROR",oe="[quiz] FETCH_QUIZ_SUCCESS",ce="[quiz] QUIZ_SET_STATE",ue="[quiz] FINISH_QUIZ",se="[quiz] QUIZ_NEXT_QUESTION",le="[quiz] QUIZ_RETRY",pe="[quiz] CREATE_QUIZ_QUESTION",de="[quiz] RESET_QUIZ_CREATION",me="[auth] AUTH_SUCCESS",he="[auth] AUTH_LOGOUT";function fe(e){return{type:oe,quiz:e}}function ve(){return{type:ae}}function ge(e){return{type:re,quizes:e}}function be(e){return{type:ie,error:e}}function _e(e,t){return{type:ce,answerState:e,results:t}}function we(e){return function(t,n){var a=n().quiz;if(a.answerState){var r=Object.keys(a.answerState)[0];if("success"===a.answerState[r])return}var i=a.quiz[a.activeQuestion],o=a.results;i.rightAnswerId===e?(o[i.id]||(o[i.id]="success"),t(_e(Object(X.a)({},e,"success"),o))):(o[i.id]="error",t(_e(Object(X.a)({},e,"error"),o)));var c=window.setTimeout(function(){var e;!function(e){return e.activeQuestion+1===e.quiz.length-1}(a)?t((e=a.activeQuestion+1,{type:se,number:e})):t({type:ue}),window.clearTimeout(c)},1500)}}var ze=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params;this.props.fetchQuizById(e.id)}},{key:"componentWillMount",value:function(){this.props.retryQuiz()}},{key:"render",value:function(){return r.a.createElement("div",{className:q.a.Quiz},r.a.createElement("div",{className:q.a.quizWrapper},this.props.isLoading||!this.props.quiz?r.a.createElement(J,null):this.props.isFinished?r.a.createElement(Z,{results:this.props.results,quiz:this.props.quiz,onRetry:this.props.retryQuiz}):r.a.createElement(M,{quiz:this.props.quiz[this.props.activeQuestion],quizName:this.props.quiz[this.props.quiz.length-1].quizName,onAnswerClick:this.props.quizAnswerClick,quizLength:this.props.quiz.length-1,answerNumber:this.props.activeQuestion+1,answerState:this.props.answerState})))}}]),t}(a.Component),Ee=Object(C.b)(function(e){var t=e.quiz;return{activeQuestion:t.activeQuestion,answerState:t.answerState,isFinished:t.isFinished,results:t.results,quiz:t.quiz,isLoading:t.isLoading}},function(e){return{fetchQuizById:function(t){return e((n=t,function(){var e=Object($.a)(Y.a.mark(function e(t){var a,r;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(ve()),e.prev=1,e.next=4,ne.get("/quizes/".concat(n,".json"));case 4:a=e.sent,r=a.data,t(fe(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(be(e.t0));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()));var n},quizAnswerClick:function(t){return e(we(t))},retryQuiz:function(){return e({type:le})}}})(ze),ye=n(1),Ce=n(41),Oe=n.n(Ce),je=n(56),ke=n.n(je),qe=function(e,t,n){return!e&&n&&t},Qe=function(e){var t=e.type,n=e.label,a=e.value,i=e.onChange,o=e.errorMessage,c=e.valid,u=e.touched,s=e.shouldValidate,l=t||"text",p=[ke.a.Input],d="".concat(l,"-").concat(Math.random());return qe(c,u,s)&&p.push("invalid"),r.a.createElement("div",{className:p.join(" ")},r.a.createElement("label",{htmlFor:d},n),r.a.createElement("input",{type:l,id:d,value:a,onChange:i}),qe(c,u,s)?r.a.createElement("span",null,o||"Please, insert correct value"):null)},Ae=function(e,t){return Object(ye.a)({},e,{validation:t,valid:!t,touched:!1,value:""})},Se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),t.email&&(n=xe(e)&&n),t.minLength&&(n=e.length>=t.minLength&&n),n},Ie=function(e){for(var t=!0,n=0,a=Object.keys(e);n<a.length;n++){t=e[a[n]].valid&&t}return t},xe=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},Ne={secretKey:"AIzaSyB1EgtAubI8bzqe1iaaP0u9eDa6634L1LY"},Le=function(e){return{type:me,token:e}},Te=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expirationDate"),{type:he}},Fe=function(e){return function(t){setTimeout(function(){Te()},1e3*e)}},He=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={isFormValid:!1,formControls:{email:{value:"",type:"email",label:"Email",errorMessage:"Insert correct value",valid:!1,touched:!1,validation:{required:!0,email:!0}},password:{value:"",type:"password",label:"Password",errorMessage:"Insert correct value",valid:!1,touched:!1,validation:{required:!0,minLength:6}}}},n.loginHandler=function(){n.props.auth(n.state.formControls.email.value,n.state.formControls.password.value,!0)},n.registerHandler=function(){n.props.auth(n.state.formControls.email.value,n.state.formControls.password.value,!1)},n.submitHandler=function(e){e.preventDefault()},n.onChangeHandler=function(e,t){var a,r=Object(ye.a)({},n.state.formControls),i=n.state.formControls[t];i.value=e.target.value,i.touched=!0,i.valid=Se(i.value,i.validation),r[t]=i,a=Ie(r),n.setState({formControls:r,isFormValid:a})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"renderInputs",value:function(){var e=this;return Object.keys(this.state.formControls).map(function(t,n){var a=e.state.formControls[t];return r.a.createElement(Qe,{key:t+n,type:a.type,value:a.value,valid:a.valid,touched:a.touched,label:a.label,shouldValidate:!!a.validation,errorMessage:a.errorMessage,onChange:function(n){return e.onChangeHandler(n,t)}})})}},{key:"render",value:function(){return r.a.createElement("div",{className:Oe.a.Auth},r.a.createElement("div",null,r.a.createElement("h1",null,"Authorization"),r.a.createElement("form",{onSubmit:this.submitHandler,className:Oe.a.AuthForm},this.renderInputs(),r.a.createElement(W,{type:"success",onClick:this.loginHandler,disabled:!this.state.isFormValid},"LogIn"),r.a.createElement(W,{type:"primary",onClick:this.registerHandler,disabled:!this.state.isFormValid},"Registration"))))}}]),t}(a.Component),Ue=Object(C.b)(null,function(e){return{auth:function(t,n,a){return e(function(e,t,n){return function(){var a=Object($.a)(Y.a.mark(function a(r){var i,o,c,u,s;return Y.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i={email:e,password:t,returnSecureToken:!0},o="https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=".concat(Ne.secretKey),n&&(o="https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=".concat(Ne.secretKey)),a.next=5,te.a.post(o,i);case 5:c=a.sent,u=c.data,s=new Date((new Date).getTime()+1e3*u.expiresIn),localStorage.setItem("token",u.idToken),localStorage.setItem("userId",u.localId),localStorage.setItem("expirationDate",s),r(Le(u.idToken)),r(Fe(u.expiresIn));case 13:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}(t,n,a))}}})(He),Me=n(57),Be=n.n(Me),De=n(58),Re=n.n(De),Ve=function(e){var t=e.label,n=e.value,a=e.onChange,i=e.options,o="".concat(t,"-").concat(Math.random());return r.a.createElement("div",{className:Re.a.Select},r.a.createElement("label",{htmlFor:o},t),r.a.createElement("select",{id:o,value:n,onChange:a},i.map(function(e,t){return r.a.createElement("option",{value:e.value,key:e.value+t},e.text)})))},We=function(e){return Ae({label:"Option ".concat(e),errorMessage:"The value cannot be empty",id:e},{required:!0})},Ze=function(){return{question:Ae({label:"Enter a question",errorMessage:"The question cannot be empty"},{required:!0}),option1:We(1),option2:We(2),option3:We(3),option4:We(4)}},Pe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={formControls:Ze(),isFormValid:!1,rightAnswerId:1},n.submitHandler=function(e){e.preventDefault()},n.onAddQuestionHandler=function(e){e.preventDefault();var t=n.state.formControls,a=t.question,r=t.option1,i=t.option2,o=t.option3,c=t.option4,u={question:a.value,id:n.props.quiz.length+1,rightAnswerId:n.state.rightAnswerId,answers:[{text:r.value,id:r.id},{text:i.value,id:i.id},{text:o.value,id:o.id},{text:c.value,id:c.id}]};n.props.createQuizQuestion(u),n.setState({formControls:Ze(),isFormValid:!1,rightAnswerId:1})},n.createQuizHandler=function(e){e.preventDefault(),n.setState({formControls:Ze(),isFormValid:!1,rightAnswerId:1}),n.props.finishCreateQuiz()},n.changeHandler=function(e,t){var a,r=Object(ye.a)({},n.state.formControls),i=n.state.formControls[t];i.touched=!0,i.value=e,i.valid=Se(i.value,i.validation),r[t]=i,a=Ie(r),n.setState({formControls:r,isFormValid:a})},n.selectChangeHandler=function(e){n.setState({rightAnswerId:+e.target.value})},n.renderSelect=function(){return r.a.createElement(Ve,{label:"Select correct answer",value:n.state.rightAnswerId,onChange:n.selectChangeHandler,options:[{text:"1",value:1},{text:"2",value:2},{text:"3",value:3},{text:"4",value:4}]})},n.renderFormControls=function(){return Object.keys(n.state.formControls).map(function(e,t){var i=n.state.formControls[e];return r.a.createElement(a.Fragment,{key:e+t},r.a.createElement(Qe,{label:i.label,value:i.value,valid:i.valid,shouldValidate:!!i.validation,touched:i.touched,errorMessage:i.errorMessage,onChange:function(t){return n.changeHandler(t.target.value,e)}}))})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.renderFormControls(),t=this.renderSelect();return r.a.createElement("div",{className:Be.a.QuizCreator},r.a.createElement("div",null,r.a.createElement("h1",null,"Quiz Creator"),r.a.createElement("form",{onSubmit:this.submitHandler},e,t,r.a.createElement(W,{type:"primary",onClick:this.onAddQuestionHandler,disabled:!this.state.isFormValid},"Add Question"),r.a.createElement(W,{type:"success",onClick:this.createQuizHandler,disabled:0===this.props.quiz.length},"Create Quiz"))))}}]),t}(a.Component),Ge=Object(C.b)(function(e){return{quiz:e.create.quiz}},function(e){return{createQuizQuestion:function(t){return e(function(e){return{type:pe,item:e}}(t))},finishCreateQuiz:function(){return e(function(){var e=Object($.a)(Y.a.mark(function e(t,n){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/quizes.json",n().create.quiz);case 2:t({type:de});case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())}}})(Pe),Je=n(30),Xe=n.n(Je),Ke=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).renderList=function(){return n.props.quizes.map(function(e){return r.a.createElement(g.c,{to:"/quiz/".concat(e.id),key:e.id},r.a.createElement("div",{className:Xe.a.card},r.a.createElement("img",{src:"/img/".concat(e.imgTitle),alt:"Avatar"}),r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,r.a.createElement("b",null,e.name)))))})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchQuizes()}},{key:"render",value:function(){return r.a.createElement("div",{className:Xe.a.QuizList},this.props.isLoading&&0!==this.props.quizes.length?r.a.createElement(J,null):r.a.createElement("div",{className:Xe.a.wrapper},this.renderList()))}}]),t}(a.Component),Ye=Object(C.b)(function(e){var t=e.quiz;return{quizes:t.quizes,isLoading:t.isLoading}},function(e){return{fetchQuizes:function(){return e(function(){var e=Object($.a)(Y.a.mark(function e(t){var n,a;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(ve()),e.prev=1,e.next=4,ne.get("/quizes.json");case 4:n=e.sent,a=[],Object.keys(n.data).forEach(function(e,t){a.push({id:e,name:n.data[e][n.data[e].length-1].quizName,imgTitle:n.data[e][n.data[e].length-1].imgTitle})}),t(ge(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(be(e.t0));case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}())}}})(Ke),$e=n(18),et=(n(91),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"render",value:function(){return r.a.createElement($e.a,{to:"/"})}}]),t}(a.Component)),tt=Object(C.b)(null,function(e){return{logout:function(){return e(Te())}}})(et),nt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.autoLogin()}},{key:"render",value:function(){var e=r.a.createElement($e.d,null,r.a.createElement($e.b,{path:"/auth",component:Ue}),r.a.createElement($e.b,{path:"/quiz/:id",component:Ee}),r.a.createElement($e.b,{path:"/",exact:!0,component:Ye}),r.a.createElement($e.a,{to:"/"}));return this.props.isAuthenticated&&(e=r.a.createElement($e.d,null,r.a.createElement($e.b,{path:"/quiz-creator",component:Ge}),r.a.createElement($e.b,{path:"/quiz/:id",component:Ee}),r.a.createElement($e.b,{path:"/logout",component:tt}),r.a.createElement($e.b,{path:"/",exact:!0,component:Ye}),r.a.createElement($e.a,{to:"/"}))),r.a.createElement(j,null,e)}}]),t}(r.a.Component),at=Object($e.g)(Object(C.b)(function(e){return{isAuthenticated:!!e.auth.token}},function(e){return{autoLogin:function(){return e(function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expirationDate"));n<=new Date?e(Te()):(e(Le(t)),e(Fe((n.getTime()-(new Date).getTime())/1e3)))}else e(Te())})}}})(nt)),rt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function it(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var ot=n(17),ct={quizes:[],loading:!1,error:null,results:{},isFinished:!1,activeQuestion:0,answerState:null,quiz:null};var ut=n(61),st={quiz:[]};var lt={token:null};var pt=Object(ot.combineReducers)({quiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(ye.a)({},e,{loading:!0});case re:return Object(ye.a)({},e,{loading:!1,quizes:t.quizes});case ie:return Object(ye.a)({},e,{loading:!1,error:t.error});case oe:return Object(ye.a)({},e,{loading:!1,quiz:t.quiz});case ce:return Object(ye.a)({},e,{answerState:t.answerState,results:t.results});case ue:return Object(ye.a)({},e,{isFinished:!0});case se:return Object(ye.a)({},e,{answerState:null,activeQuestion:t.number});case le:return Object(ye.a)({},e,{activeQuestion:0,answerState:null,isFinished:!1,results:{}});default:return e}},create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(ye.a)({},e,{quiz:[].concat(Object(ut.a)(e.quiz),[t.item])});case de:return Object(ye.a)({},e,{quiz:[]});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(ye.a)({},e,{token:t.token});case he:return Object(ye.a)({},e,{token:null});default:return e}}}),dt=n(59),mt=n(60),ht=Object(ot.createStore)(pt,Object(dt.composeWithDevTools)(Object(ot.applyMiddleware)(mt.a))),ft=r.a.createElement(C.a,{store:ht},r.a.createElement(g.a,null,r.a.createElement(at,null)));o.a.render(ft,document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/playbuzz",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/playbuzz","/service-worker.js");rt?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):it(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):it(t,e)})}}()}},[[62,1,2]]]);
//# sourceMappingURL=main.5a2d67ec.chunk.js.map